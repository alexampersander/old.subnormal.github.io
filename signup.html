<!DOCTYPE html>
<html>
<!--[if lt IE 7]> <html class="lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if IE 7]> <html class="lt-ie9 lt-ie8" lang="en"> <![endif]-->
<!--[if IE 8]> <html class="lt-ie9" lang="en"> <![endif]-->
<!--[if gt IE 8]><!--> <html lang="en"> <!--<![endif]-->
<head>
  <noscript><meta http-equiv="refresh" content="0; url=http://subnormal.github.io/noscript"/></noscript>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>Sign Up</title>
  <link rel="stylesheet" href="css/style.css">
  <link rel="icon" type="image/png" href="img/favicon2.png">
  <script src="http://code.jquery.com/jquery-2.0.3.min.js"></script>
  <script src="http://www.parsecdn.com/js/parse-1.2.8.min.js"></script>
  <script src="js/signup.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-41777294-1', 'subnormal.github.io');
    ga('send', 'pageview');
  </script>
  <script type="text/javascript">
    function validateStuff() {
        function doIt(e) {
            var e = e || event;
    
            if (e.keyCode == 32) {alert("No.");}
        
        }

        function pasteIt(e) {
            var e = e || event;
    
            this.value = this.value.replace(/\s/g,'');
        
        }

        window.onload = function() {
            var inp = document.getElementById("username");
    
            inp.onkeydown = doIt;
            inp.oninput = pasteIt;
        };

        var x=document.forms["signup"]["email"].value;
        var atpos=x.indexOf("@");
        var dotpos=x.lastIndexOf(".");
        if (atpos<1 || dotpos<atpos+2 || dotpos+2>=x.length) {
            alert("Not a valid email address.");
            return false;
        }

        if ($("#password").value != $("#password2").value) {
            alert("Password missmatch.");
            return false;
        }
        if ($("#password").length < 6) {
            alert("Your password must be at least 6 characters long. Please enter another.");
            return false;
        }
        $("#username").keyup(function(e){     
            var str = $.trim($(this).val());
            if( str != "" ) {
                var regx = /^[A-Za-z0-9]+$/;
                if (!regx.test(str)) {
                    alert("Alphanumeric only allowed!");
                }
            }
            else {
                alert("Looks good.");
            }
        )};
    }
    </script>
    <!--[if lt IE 9]><script src="//html5shim.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
</head>
<body>
    <form name="signup" class="sign-up" onsubmit="return validateStuff();" method="post">
        <h1 class="sign-up-title">Sign up in seconds</h1>
        <input name="username" type="text" id="username" class="sign-up-input" placeholder="What's your username?" autofocus required>
        <input type="password" id="password" class="sign-up-input" placeholder="Choose a password" required>
        <input type="password" id="password2" class="sign-up-input" placeholder="Confirm password" required>
        <input type="text" name="email" id="email" class="sign-up-input" placeholder="Email address" required>
        <input type="submit" value="Sign me up!" class="sign-up-button">
    </form>
</body>
</html>
